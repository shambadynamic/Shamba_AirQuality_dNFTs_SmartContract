from brownie import MyLinkToken, PolyAirQuality, config, accounts


def sendRequest(contract, deployer_account):

    link = MyLinkToken.at("0x326C977E6efc84E512bB9C30f76E30c160eD06FB")
    link.transfer(contract, 1e18, {'from': deployer_account})

    # Test case for getting Good Air Quality 
    contract.requestGeostatsData("agg_max", "COPERNICUS/S5P/NRTI/L3_CO", "CO_column_number_density", "1113.2", "2022-06-02", "2022-06-03", [
                                    [1, "[[[8.528823852539062,47.36882687011121],[8.528823852539062,47.38370633139431],[8.557319641113281,47.38370633139431],[8.557319641113281,47.36882687011121],[8.528823852539062,47.36882687011121]]]"]], {'from': deployer_account})
    
    # Test case for getting Intermediate Air Quality  
    # contract.requestGeostatsData("agg_max", "COPERNICUS/S5P/NRTI/L3_CO", "CO_column_number_density", "1113.2", "2022-06-05", "2022-06-06", [
    #                                 [1, "[[[77.2941934006914,28.612555241358443],[77.29255965147586,28.597992224160215],[77.28772118789539,28.583986952142084],[77.27986394939194,28.57107796763352],[77.26928988523481,28.5597618453802],[77.25640535077954,28.550474034889053],[77.24170549145956,28.543572038518853],[77.22575521462471,28.539321585125442],[77.20916748046876,28.537886343922658],[77.1925797463128,28.539321585125442],[77.17662946947794,28.543572038518853],[77.16192961015796,28.550474034889053],[77.1490450757027,28.5597618453802],[77.13847101154558,28.57107796763352],[77.13061377304214,28.583986952142084],[77.12577530946166,28.597992224160215],[77.12414156024612,28.612555241358443],[77.12577530946166,28.627116239650086],[77.13061377304214,28.641115762309195],[77.13847101154558,28.654016142295486],[77.1490450757027,28.665322114825095],[77.16192961015796,28.674599775595155],[77.17662946947794,28.681493167449318],[77.1925797463128,28.685737871489945],[77.20916748046876,28.6871710937887],[77.22575521462471,28.685737871489945],[77.24170549145956,28.681493167449318],[77.25640535077954,28.674599775595155],[77.26928988523481,28.665322114825095],[77.27986394939194,28.654016142295486],[77.28772118789539,28.641115762309195],[77.29255965147586,28.627116239650086],[77.2941934006914,28.612555241358443]]]"]], {'from': deployer_account})

    # Test case for getting Bad Air Quality  
    # contract.requestGeostatsData("agg_max", "COPERNICUS/S5P/NRTI/L3_CO", "CO_column_number_density", "1113.2", "2022-06-03", "2022-06-04", [
    #                                 [1, "[[[77.2941934006914,28.612555241358443],[77.29255965147586,28.597992224160215],[77.28772118789539,28.583986952142084],[77.27986394939194,28.57107796763352],[77.26928988523481,28.5597618453802],[77.25640535077954,28.550474034889053],[77.24170549145956,28.543572038518853],[77.22575521462471,28.539321585125442],[77.20916748046876,28.537886343922658],[77.1925797463128,28.539321585125442],[77.17662946947794,28.543572038518853],[77.16192961015796,28.550474034889053],[77.1490450757027,28.5597618453802],[77.13847101154558,28.57107796763352],[77.13061377304214,28.583986952142084],[77.12577530946166,28.597992224160215],[77.12414156024612,28.612555241358443],[77.12577530946166,28.627116239650086],[77.13061377304214,28.641115762309195],[77.13847101154558,28.654016142295486],[77.1490450757027,28.665322114825095],[77.16192961015796,28.674599775595155],[77.17662946947794,28.681493167449318],[77.1925797463128,28.685737871489945],[77.20916748046876,28.6871710937887],[77.22575521462471,28.685737871489945],[77.24170549145956,28.681493167449318],[77.25640535077954,28.674599775595155],[77.26928988523481,28.665322114825095],[77.27986394939194,28.654016142295486],[77.28772118789539,28.641115762309195],[77.29255965147586,28.627116239650086],[77.2941934006914,28.612555241358443]]]"]], {'from': deployer_account})





def main():
    deployer_account = accounts.add(
        config["wallets"]["from_key"]) or accounts[0]
    print(deployer_account.address)
    contract = PolyAirQuality[-1]
    sendRequest(contract, deployer_account)